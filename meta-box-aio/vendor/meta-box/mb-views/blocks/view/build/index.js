(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,n=JSON.parse('{"UU":"meta-box/view"}'),i=window.wp.apiFetch;var o=e.n(i);const s=window.wp.blockEditor,r=window.wp.components,a=window.wp.element,l=window.wp.i18n,c=window.wp.serverSideRender;var w=e.n(c);const d=window.ReactJSXRuntime;(0,t.registerBlockType)(n.UU,{edit:function({attributes:e,setAttributes:t}){const{id:n=0}=e,[i,c]=(0,a.useState)([]),[u,p]=(0,a.useState)(null);(0,a.useEffect)(()=>{o()({path:"/mbv/list"}).then(e=>c(e)).catch(e=>{p(e.message||(0,l.__)("Error fetching views","mb-views"))})},[]);const v=(0,s.useBlockProps)(),b=[{value:0,label:(0,l.__)("— Select a view —","mb-views")}].concat(i.map(e=>({value:e.id,label:e.title})));return(0,d.jsxs)("div",{...v,children:[(0,d.jsx)(s.InspectorControls,{children:(0,d.jsxs)(r.PanelBody,{title:(0,l.__)("Settings","mb-views"),initialOpen:!0,children:[u&&(0,d.jsx)(r.Notice,{status:"error",children:u}),(0,d.jsx)(r.SelectControl,{value:n,options:b,onChange:e=>t({id:parseInt(e,10)||0})})]})}),(0,d.jsx)(w(),{block:"meta-box/view",attributes:e})]})},save:function(){return null}})})();