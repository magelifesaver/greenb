(()=>{"use strict";var e={87:e=>{e.exports=window.lodash}},t={};function o(i){var c=t[i];if(void 0!==c)return c.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,o),n.exports}(()=>{const e=window.wc.blocksCheckout,t=window.React,i=window.wp.element,c=window.wp.components,n=window.wp.i18n,p=window.wp.data;var a=o(87);const r=window.wc.wcSettings,s=JSON.parse('{"apiVersion":2,"name":"tpfw/tpfw-pickup-timepicker-block","version":"2.0.0","title":"Food Online Pickup Location and Time","category":"woocommerce","description":"Adds forms to choose time and pickup location.","supports":{"html":false,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-pickup-options-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}},"text":{"type":"string","default":""}},"textdomain":"tpfw"}');(0,e.registerCheckoutBlock)({metadata:s,component:({checkoutExtensionData:e,extensions:s})=>{o(87);const[l,m]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),{date_input:w}=(0,r.getSetting)("tpfw-pickup-timepicker_data",""),{setExtensionData:k}=e,f=((0,i.useCallback)((0,a.debounce)(((e,t,o)=>{k(e,t,o)}),1),[k]),(0,i.useCallback)((0,a.debounce)((e=>{m(e)}),100),[m])),_=(0,i.useCallback)((0,a.debounce)((e=>{d(e)}),100),[d]),v="tpfw-pickup-time",{setValidationErrors:E,clearValidationError:b}=(0,p.useDispatch)("wc/store/validation"),g=(0,p.useSelect)((e=>e("wc/store/validation").getValidationError(v)));return(0,i.useEffect)((()=>{jQuery(document).trigger("tpfw_loaded_blocks_timepicker_pickup");const e=()=>{jQuery(document).trigger("tpfw_loaded_blocks_timepicker_pickup")};return window.addEventListener("load",e),()=>{k("tpfw-pickuptime","pickup_time",""),k("tpfw-pickuptime","pickup_date",""),window.removeEventListener("load",e)}}),[]),(0,i.useEffect)((()=>{k("tpfw-pickuptime","pickup_time",u),k("tpfw-pickuptime","pickup_date",l)}),[k,u,l]),(0,i.useEffect)((()=>(""!=u&&null!=u&&"undefined"!=u?g&&b(v):E({[v]:{message:(0,n.__)("Please pick a time.","tpfw-timepicker-for-woocommerce"),hidden:!0}}),()=>{b(v)})),[l,u,b,E,v]),(0,t.createElement)("div",null,(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"wc-block-components-checkout-step__heading"},(0,t.createElement)("h2",{className:"wc-block-components-title "},(0,n.__)("Pickup time","tpfw-timepicker-for-woocommerce"))),(0,t.createElement)("p",{className:"wc-block-components-checkout-step__description"},(0,n.__)("Select the date and time when to pickup.","tpfw-timepicker-for-woocommerce")),(0,t.createElement)("div",{id:"tpfw-date_field"},(0,t.createElement)(c.SelectControl,{id:"tpfw-date",value:l,options:w.options,className:"pickup",onChange:e=>function(e){f(e),_("")}(e),__nextHasNoMarginBottom:!0})),(0,t.createElement)("div",{className:"wc-block-components-text-input"},(0,t.createElement)("input",{id:"tpfw-time",type:"text",value:u,required:!0,placeholder:(0,n.__)("Time","tpfw-timepicker-for-woocommerce"),className:"tpfw-time pickup",onInput:e=>{!function(e){_(e.target.value)}(e)}}))))}})})()})();