(()=>{var e,t={74467:(e,t,o)=>{"use strict";o.r(t),o.d(t,{metadata:()=>I,name:()=>x});var n=o(85893);const r=(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{fill:"var(--kadence-color, #0058b0 )",d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})});var a=o(99196),c=o(94184),s=o.n(c);const i=window.wp.element,l=window.wp.data,u=window.wp.i18n,d=window.wp.blockEditor,p=window.wp.components,f=window.lodash;function k(e,t){const o=Boolean(e&&(e.queryId||Number.isFinite(e.queryId))&&e.postId),n=Boolean(e&&void 0!==e["kadence/dynamicSource"]&&e["kadence/dynamicSource"]);return!(!o&&!n)}const y=window.wp.widgets;function m(e){for(var t=5381,o=e.length;o;)t=33*t^e.charCodeAt(--o);return t>>>0}const b=(e,t)=>{if(!(t.uniqueID||void 0!==t.noCustomDefaults&&t.noCustomDefaults)){const o=kadence_blocks_params.config&&kadence_blocks_params.config[e]?kadence_blocks_params.config[e]:void 0,n=kadence_blocks_params.configuration?JSON.parse(kadence_blocks_params.configuration):[];void 0!==n[e]&&"object"==typeof n[e]?Object.keys(n[e]).map((o=>{t[o]=n[e][o]})):void 0!==o&&"object"==typeof o&&Object.keys(o).map((e=>{t[e]=o[e]}))}return t};const g=window.wp.url;function v(e,t,o){if("function"==typeof o){const n={source:e,type:"repeaters",contextPost:t,useRepeaterContext:!0},r=(0,f.get)(window,["kadenceDynamicParams","dynamicFieldsEndpoint"],"");(0,l.resolveSelect)("kadenceblockspro/data").storeFetch((0,g.addQueryArgs)(r,function(e,t=null,o="",n=""){const{source:r,field:a,custom:c,para:s,before:i,after:l,fallback:u,type:d,relate:p,relcustom:f,showAll:k,useRepeaterContext:y}=e;let m=r||t;if(wp.data.select("core/editor")&&!m)if(kbpData.isKadenceE&&kadenceElementParams.previewPostID){const e=((e,t=!0)=>{try{var o=JSON.parse(e);if(o&&"object"==typeof o)return o}catch(e){}return e&&"object"==typeof e?e:!!t&&{}})(kadenceElementParams.previewPostID);m=e&&e.id?e.id:""}else m=wp.data.select("core/editor").getCurrentPostId();return n=function(e,t){var o="";if(e&&"string"==typeof e&&e.includes("|")){const n=e.split("|");if(n&&(o=n?.[0]),!o)return t+e}return e||t}(n,m),{source:y?n:m,field:a||"",custom:c||"",para:s||"",before:i||"",after:l||"",fallback:u||"",type:d||"",relate:p||"",relcustom:f||"",ignore_source:k||!1,useRepeaterContext:y||!1,repeaterRow:o}}(n,t))).then((e=>{if("object"==typeof e&&1<=Object.keys(e).length)return o(e),e})).catch((e=>(o(null),null)))}}function w(e,t,o){if("function"==typeof o){const n=(0,f.get)(window,["kadenceDynamicParams","repeaterDataEndpoint"],"");(0,l.resolveSelect)("kadenceblockspro/data").storeFetch((0,g.addQueryArgs)(n,{source:e,field:t})).then((e=>"object"==typeof e&&1<=Object.keys(e).length||"object"==typeof e&&0==Object.keys(e).length?(o(e),e):(o(null),null))).catch((e=>(o(null),null)))}}const h=[["kadence/dynamichtml",{useRepeaterContext:!0}]];function S(){const e=(0,d.useInnerBlocksProps)({className:"wp-block-post"},{template:h,__unstableDisableLayoutClassNames:!0});return(0,a.createElement)("li",{...e})}const _=(0,i.memo)((function({blocks:e,blockContextId:t,isHidden:o,setActiveBlockContextId:n}){const r=(0,d.__experimentalUseBlockPreview)({blocks:e,props:{className:"wp-block-post"}}),c=()=>{n(t)},s={display:o?"none":void 0};return(0,a.createElement)("li",{...r,tabIndex:0,role:"button",onClick:c,onKeyPress:c,style:s})})),I=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"title":"Repeater Template","name":"kadence/repeatertemplate","category":"kadence-blocks","parent":["kadence/repeater"],"description":"Contains the block elements used to render an item in a repeater loop.","usesContext":["queryId","query","queryContext","kadence/dynamicSource","kadence/previewSource","kadence/repeaterRow","displayLayout","templateSlug","previewPostType","postId"],"attributes":{"uniqueID":{"type":"string","default":""},"inQueryBlock":{"type":"boolean","default":false},"lock":{"type":"object","default":{"move":true,"remove":true}}},"supports":{"reusable":false,"customClassName":false}}'),{name:x}=I,{registerBlockType:P}=wp.blocks;P("kadence/repeatertemplate",{...I,title:(0,u.__)("Repeater Layout","kadence-blocks-pro"),icon:{src:r},category:"kadence-blocks",keywords:[(0,u.__)("ACF","kadence-blocks-pro"),(0,u.__)("Repeater","kadence-blocks-pro"),(0,u.__)("Custom","kadence-blocks-pro")],edit:function({clientId:e,context:t,context:{query:{perPage:o,offset:n=0,postType:r,order:c,orderBy:g,author:h,search:I,exclude:x,sticky:P,inherit:E,taxQuery:D,parents:O,pages:j,comparisonLogic:C,...B}={},queryContext:q=[{page:1}],templateSlug:R,displayLayout:{type:N="flex",columns:A=1}={},previewPostType:T,postId:U},attributes:L,setAttributes:F,__unstableLayoutClassNames:H}){const{uniqueID:M,inQueryBlock:Q}=L,[z,V]=(0,i.useState)("loading"),[$,J]=(0,i.useState)("loading"),[W,K]=(0,i.useState)(""),[Y,G]=(0,i.useState)("loading"),[X,Z]=(0,i.useState)("loading"),[ee,te]=(0,i.useState)("loading"),[oe,ne]=(0,i.useState)("loading"),{templatePostSlug:re}=(0,l.useSelect)((e=>({templatePostSlug:!!e("core/edit-site")&&e("core/edit-site").getEditedPostId()})),[e]),ae=!!re;(0,i.useEffect)((()=>{F({inQueryBlock:k(t)})}),[]),function(e){const{attributes:t,setAttributes:o,isSelected:n,clientId:r,context:a,className:c}=e,{addUniqueID:s}=(0,l.useDispatch)("kadenceblocks/data"),u=(0,l.useSelect)((e=>e),[r]),{isUniqueID:d,isUniqueBlock:p,parentData:k}=(0,i.useMemo)((()=>({isUniqueID:e=>u("kadenceblocks/data").isUniqueID(e),isUniqueBlock:(e,t)=>u("kadenceblocks/data").isUniqueBlock(e,t),parentData:{rootBlock:u("core/block-editor").getBlock(u("core/block-editor").getBlockHierarchyRootClientId(r)),postId:u("core/editor")?.getCurrentPostId()?u("core/editor")?.getCurrentPostId():"",reusableParent:u("core/block-editor").getBlockAttributes(u("core/block-editor").getBlockParentsByBlockName(r,"core/block").slice(-1)[0]),editedPostId:!!u("core/edit-site")&&u("core/edit-site").getEditedPostId()}})),[u,r]),g=(n,a=!1)=>{d(n)||(n=(0,f.uniqueId)(n));let c={uniqueID:n};a&&(c={...b(e.name,t),uniqueID:n}),Object.assign(t,c),o(c),s(n,r)},v=t=>{const{postId:o,reusableParent:n,rootBlock:r,editedPostId:a}=t;let c=function(e,t,o,n="block-unknown"){return(0,f.has)(o,"ref")?o.ref:t?t="string"==typeof t?t.replace(/\//g,"_"):t:(0,y.getWidgetIdFromBlock)(e)?(0,y.getWidgetIdFromBlock)(e):n}(e,o,n,0);return 0===c&&("core/template-part"===(0,f.get)(r,"name")&&(0,f.has)(r,["attributes","slug"])?c=m(r.attributes.slug)%1e6:a&&(c=m(a)%1e6)),c};if(!t?.uniqueID){const e=v(k),t=(e?e+"_":"")+r.substr(2,9);g(t,!0)}(0,i.useEffect)((()=>{const e=v(k),o=t?.uniqueID&&2===t?.uniqueID.split("_").length,n=(e?e+"_":"")+r.substr(2,9);return!t?.uniqueID||o&&t?.uniqueID.split("_")[0]!==e.toString()?g(n,!0):d(t?.uniqueID)||p(t?.uniqueID,r)?void s(t?.uniqueID,r):g(n,!1)}),[r])}({attributes:L,setAttributes:F,clientId:e}),(0,i.useEffect)((()=>{t["kadence/dynamicSource"]&&(J((()=>{var e=t["kadence/dynamicSource"];if(e&&"string"==typeof e&&e.includes("|")){const t=e.split("|");e="current"==(e=void 0!==t[0]?t?.[0]:"")?"":e}return!e&&ae?(e=t["kadence/previewSource"],ne(t["kadence/previewSource"]+t["kadence/dynamicSource"])):ne(t["kadence/dynamicSource"]),e})()),K((()=>{var e=t["kadence/dynamicSource"],o="";if(e&&"string"==typeof e&&e.includes("|")){const t=e.split("|");t&&3==t.length?o=t?.[1]+"|"+t?.[2]:t&&4==t.length&&(o=t?.[1]+"|"+t?.[2]+"|"+t?.[3])}return o})()))}),[t["kadence/dynamicSource"],t["kadence/previewSource"]]),(0,i.useEffect)((()=>{"loading"!==$&&V(!$||isNaN($)&&"options"!=$?U:$)}),[$]);const[ce,se]=(0,i.useState)(),{blocks:ie}=(0,l.useSelect)((t=>{const{getBlocks:o}=t(d.store);return{blocks:o(e)}}),[W]),le=(0,f.debounce)(v,200),ue=(0,f.debounce)(w,200);(0,i.useEffect)((()=>{"loading"!==z&&le($,z,G)}),[z]),(0,i.useEffect)((()=>{"loading"!==Y&&te(function(e,t){var o={};return e&&t&&e.forEach((e=>{e.options&&e.options.forEach((e=>{e.value==t&&(o=e)}))})),o}(Y,W))}),[Y,W]),(0,i.useEffect)((()=>{Y&&W&&!(0,f.isEmpty)(ee)?ue(z,ee.value,Z):"loading"!==z&&"loading"!==Y&&Z(null)}),[ee]);let de=null;"object"==typeof X&&(de=X&&0!=Object.keys(X).length?X?.map(((e,t)=>({"kadence/dynamicSource":oe,"kadence/repeaterRowData":e,"kadence/repeaterRow":t}))):[{"kadence/dynamicSource":oe,"kadence/repeaterRowData":[],"kadence/repeaterRow":0}]);const pe="flex"===N&&A>1,fe=(0,d.useBlockProps)({className:s()(H,{"is-flex-container":pe,[`columns-${A}`]:pe})});return"loading"===X?(0,a.createElement)("p",{...fe},(0,a.createElement)(p.Spinner,null)):X||"object"==typeof X?(0,a.createElement)("ul",{...fe},de&&de.map(((e,t)=>(0,a.createElement)(d.BlockContextProvider,{key:t,value:e},0===t?(0,a.createElement)(S,null):null,(0,a.createElement)(_,{blocks:ie,blockContextId:t,setActiveBlockContextId:se,isHidden:0===t}))))):(0,a.createElement)("p",{...fe}," ",(0,u.__)("No data found for this repeater and source.","kadence-blocks-pro"))},save:function(){return(0,a.createElement)(d.InnerBlocks.Content,null)}})},94184:(e,t)=>{var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var c=r.apply(null,o);c&&e.push(c)}}else if("object"===a){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var s in o)n.call(o,s)&&o[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},75251:(e,t,o)=>{"use strict";var n=o(99196),r=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,o){var n,i={},l=null,u=null;for(n in void 0!==o&&(l=""+o),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,n)&&!s.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:r,type:e,key:l,ref:u,props:i,_owner:c.current}}},85893:(e,t,o)=>{"use strict";e.exports=o(75251)},99196:e=>{"use strict";e.exports=window.React}},o={};function n(e){var r=o[e];if(void 0!==r)return r.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,o,r,a)=>{if(!o){var c=1/0;for(u=0;u<e.length;u++){for(var[o,r,a]=e[u],s=!0,i=0;i<o.length;i++)(!1&a||c>=a)&&Object.keys(n.O).every((e=>n.O[e](o[i])))?o.splice(i--,1):(s=!1,a<c&&(c=a));if(s){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,r,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={567:0,605:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,a,[c,s,i]=o,l=0;if(c.some((t=>0!==e[t]))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(i)var u=i(n)}for(t&&t(o);l<c.length;l++)a=c[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},o=globalThis.webpackChunkkadence=globalThis.webpackChunkkadence||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var r=n.O(void 0,[605],(()=>n(74467)));r=n.O(r),(this.kadence=this.kadence||{})["blocks-repeatertemplate"]=r})();